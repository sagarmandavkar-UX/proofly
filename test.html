<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proofly Test Page - All Editable Elements</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }

        .section {
            background: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        h1 {
            color: #333;
            text-align: center;
        }

        h2 {
            color: #666;
            margin-top: 0;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        input[type="text"], textarea {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 4px;
            font-family: inherit;
            box-sizing: border-box;
        }

        textarea {
            min-height: 150px;
            resize: vertical;
        }

        [contenteditable] {
            width: 100%;
            min-height: 150px;
            padding: 12px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 4px;
            background: white;
            box-sizing: border-box;
        }

        [contenteditable]:focus {
            outline: none;
            border-color: #4A90E2;
        }

        input:focus, textarea:focus {
            outline: none;
            border-color: #4A90E2;
        }

        .placeholder {
            color: #999;
        }

        .info {
            background: #E3F2FD;
            padding: 12px;
            border-radius: 4px;
            margin-top: 30px;
            font-size: 14px;
            color: #1976D2;
        }
    </style>
</head>
<body>
    <h1>üîç Proofly Test Page</h1>

    <div class="section">
        <h2>1. Input Field (text)</h2>
        <input
            id="test-input"
            type="text"
            placeholder="Type something with speling mistakes here..."
            value="This are a radnom test with typicla errors">
    </div>

    <div class="section">
        <h2>2. Textarea Element</h2>
        <textarea id="test-textarea" placeholder="Type or paste text with grammar and speling mistakes...">This are a radnom text with a few classic common, and typicla typso and grammar issus. the Proofreader API hopefuly finds them all. Knocking at wood and crossed.</textarea>
    </div>

    <div class="section">
        <h2>3. ContentEditable Div</h2>
        <div
            id="test-contenteditable-div"
            contenteditable="true"
            data-placeholder="Click here to type with speling and grammer mistakes...">
This are another test with some obvius mistakes and typicla errors that should be detected by the proofreading systm.
        </div>
    </div>

    <div class="info">
        <strong>Testing Instructions:</strong>
        <ol style="margin: 10px 0; padding-left: 20px;">
            <li>Make sure the Proofly extension is loaded in Chrome</li>
            <li>Check the extension icon shows it's active on this page</li>
            <li>Type or edit text in each field above</li>
            <li>Wait 1.5 seconds for proofreading to trigger</li>
            <li>Verify highlights appear correctly on all three element types</li>
            <li>Click on highlights to see issue cards</li>
            <li>Test applying corrections</li>
            <li>Check browser console and extension logs for any errors</li>
        </ol>
    </div>

    <script>
        // Add placeholder behavior for contenteditable
        const contentEditable = document.querySelector('[contenteditable]');
        const placeholder = contentEditable.getAttribute('data-placeholder');

        if (contentEditable.textContent.trim() === '') {
            contentEditable.innerHTML = `<span class="placeholder">${placeholder}</span>`;
        }

        contentEditable.addEventListener('focus', function() {
            if (this.querySelector('.placeholder')) {
                this.textContent = '';
            }
        });

        contentEditable.addEventListener('blur', function() {
            if (this.textContent.trim() === '') {
                this.innerHTML = `<span class="placeholder">${placeholder}</span>`;
            }
        });
    </script>
</body>
</html>
